@using Mona.Data
@inject ReportService ReportService
@inject NavigationManager NavigationManager;

<BSNavbar IsDark="false" Color="Color.Light">
    <BSNavbarBrand>
        <BSNavLink href="/reports">
            KRT
        </BSNavLink>
    </BSNavbarBrand>
    <BSNav  Class="my-2 my-lg-0">
        <BSNavItem>
            <BSNavLink>
                <BSButton Color="Color.Primary" IsOutline="true" @onclick="OnNewReport">New Report</BSButton>
            </BSNavLink>
        </BSNavItem>
    </BSNav>
</BSNavbar>

@code
{
    public async Task OnNewReport()
    {
        var reportId = await ReportService.CreateNewReport();
        NavigationManager.NavigateTo($"/reports/{reportId}");
    }
}
